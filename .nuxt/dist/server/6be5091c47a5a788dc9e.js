exports.ids=[5],exports.modules={42:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var n=o(40),r=o.n(n);let l=o(41);function c(t){if(t.headers.cookie&&t.headers.cookie){const e=l.parse(t.headers.cookie).access_token;if(!e)return;const o=r()(e);if(!o)return;return o}}},43:function(t,e,o){t.exports=o.p+"img/e4b6323.gif"},48:function(t,e,o){"use strict";o.r(e);var n=o(4),r=o.n(n),l=(o(14),o(21),o(42)),c={asyncData({req:t,redirect:e}){Object(l.a)(t)||e("/login")},data:()=>({loading:!1,coverImg:"",createDate:"",postID:"",name:"",content:"",editorOption:{modules:{toolbar:[[{size:["normal","large","huge"]},"bold","italic","underline","strike"],["blockquote","link","image","video"],[{color:[]},{background:[]}]]}}}),methods:{onEditorChange({editor:t,html:html,text:text}){this.content=html},nameSet(t){this.name=t.target.value},newPostSubmit(){r.a.firestore().collection("blogData").add({name:this.name,info:this.content,postID:this.postID,createDate:this.createDate.slice(0,-3)}).then(t=>this.$router.push({name:"database"})).catch(t=>console.log(t))},uploadImage(t){this.loading=!0;let e=r.a.storage().ref(this.postID);if(t.target.files[0]){e.delete().then((function(){})).catch((function(t){}));let o=t.target.files[0],n=e.put(o);n.on("state_changed",t=>{},t=>{console.log(t)},()=>{n.snapshot.ref.getDownloadURL().then(t=>{this.coverImg=t,this.loading=!1})})}}},mounted(){this.postID=(new Date).getTime().toString(36)+Date.now().toString().split(".").join("_");var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),time=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();this.createDate=e+" "+time}},d=o(1),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[t._ssrNode('<h1 class="headline">New post</h1> <div class="coverImg"><button type="file" class="button primaryBtn">Cover image</button> '+(t.loading?'<div class="loading"><img'+t._ssrAttr("src",o(43))+" alt></div>":"\x3c!----\x3e")+" <img"+t._ssrAttr("src",t.coverImg)+"></div> "),t._ssrNode('<form class="newPostForm">',"</form>",[t._ssrNode('<div class="nameInput"><input type="text" placeholder="Headline"></div> '),t._ssrNode('<div class="editorWrap">',"</div>",[n("div",{directives:[{name:"quill",rawName:"v-quill:myQuillEditor",value:t.editorOption,expression:"editorOption",arg:"myQuillEditor"}],staticClass:"quill-editor",attrs:{content:t.content},on:{change:function(e){return t.onEditorChange(e)}}},[])]),t._ssrNode(' <button type="submit" class="button primaryBtn">Save</button>')],2),t._ssrNode(' <input type="file" class="fileUploadInput">')],2)}),[],!1,null,null,"b0fb2664");e.default=component.exports}};