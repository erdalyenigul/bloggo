(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{224:function(t,e,r){"use strict";r(225),r(228)},225:function(t,e,r){"use strict";var n=r(226);function o(t){this.message=t}o.prototype=new Error,o.prototype.name="InvalidTokenError",t.exports=function(t,e){if("string"!=typeof t)throw new o("Invalid token specified");var r=!0===(e=e||{}).header?0:1;try{return JSON.parse(n(t.split(".")[r]))}catch(t){throw new o("Invalid token specified: "+t.message)}},t.exports.InvalidTokenError=o},226:function(t,e,r){var n=r(227);t.exports=function(t){var output=t.replace(/-/g,"+").replace(/_/g,"/");switch(output.length%4){case 0:break;case 2:output+="==";break;case 3:output+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(n(t).replace(/(.)/g,(function(t,p){var code=p.charCodeAt(0).toString(16).toUpperCase();return code.length<2&&(code="0"+code),"%"+code})))}(output)}catch(t){return n(output)}}},227:function(t,e){function r(t){this.message=t}r.prototype=new Error,r.prototype.name="InvalidCharacterError",t.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(input){var t=String(input).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,n,o=0,c=0,output="";n=t.charAt(c++);~n&&(e=o%4?64*e+n:n,o++%4)?output+=String.fromCharCode(255&e>>(-2*o&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return output}},228:function(t,e,r){"use strict";function n(){}t.exports=n,n.maxLength=4096,n.parse=function(t){var e=n.maxLength;if("string"!=typeof t)throw new TypeError("str must be a string");if(t.length>e)throw new RangeError("str is too large (CookieParser.maxLength="+e+")");var r=new n;if(arguments.length>1){var o=arguments[1];if("object"==typeof o&&null!==o&&"function"==typeof o.decode)return r.slowParse(t,o.decode)}return r.parse(t)},n.prototype.decode=function(t){try{return decodeURIComponent(t)}catch(e){return t}},n.prototype.extract=function(t,e,r){return e===r+1?"":t.slice(this.trimForward(t,e),this.trimBackward(t,r)+1)},n.prototype.trimForward=function(t,i){for(var e=t.charCodeAt(i);this.isWhiteSpace(e);)e=t.charCodeAt(++i);return i},n.prototype.trimBackward=function(t,i){for(var e=t.charCodeAt(i);this.isWhiteSpace(e);)e=t.charCodeAt(--i);return i},n.prototype.isWhiteSpace=function(t){return t<=32},n.prototype.parse=function(t){var e={},r=0,n=0,o=0,c=0,l=!1,d=!1,i=0,f=t.length;t:for(;i<f;++i){var h=t.charCodeAt(i);if(h>127)return this.slowParse(t,this.decode);if(61===h){n=i-1;var m=i+1;for(h=t.charCodeAt(m);32===h;)m++,h=t.charCodeAt(m);for(34===h&&(m++,d=!0),o=m;m<f;++m)if(37===(h=t.charCodeAt(m)))l=!0;else if(59===h||44===h){if(d)(c=this.trimBackward(t,m-1)-1)<o&&(o=c);else c=m-1;var v=this.extract(t,r,n),w=this.extract(t,o,c);for(e[v]=l?this.decode(w):w,i=m;m<f;++m)if(32!==t.charCodeAt(m)){i=m-1;break}n=r=i+1,d=!1,l=!1;continue t}if(d)(c=this.trimBackward(t,m-1)-1)<o&&(o=c);else c=m-1;v=this.extract(t,r,n),w=this.extract(t,o,c);e[v]=l?this.decode(w):w,i=m}else 59!==h&&44!==h||(r=i+1)}return e},n.serialize=function(t,e,r){var n=[t+"="+((r=r||{}).encode||encodeURIComponent)(e)];return r.maxAge&&n.push("Max-Age="+r.maxAge),r.domain&&n.push("Domain="+r.domain),r.path&&n.push("Path="+r.path),r.expires&&n.push("Expires="+r.expires.toUTCString()),r.httpOnly&&n.push("HttpOnly"),r.secure&&n.push("Secure"),n.join("; ")},n.prototype.slowParse=function(t,e){var r={};return t.split(/[;,] */).forEach((function(t){var n=t.indexOf("=");if(!(n<0)){var o=t.substr(0,n).trim(),c=t.substr(++n,t.length).trim();if('"'==c[0]&&(c=c.slice(1,-1)),null==r[o])try{r[o]=e(c)}catch(t){r[o]=c}}})),r}},229:function(t,e,r){t.exports=r.p+"img/e4b6323.gif"},236:function(t,e,r){"use strict";r.r(e);r(134),r(31),r(32),r(19),r(30);var n=r(44),o=r.n(n),c=(r(88),r(133),r(224),{asyncData:function(t){t.req;var e=t.redirect;o.a.auth().currentUser||e("/login")},data:function(){return{loading:!1,coverImg:"",createDate:"",postID:"",name:"",content:"",editorOption:{modules:{toolbar:[[{size:["normal","large","huge"]},"bold","italic","underline","strike"],["blockquote","link","image","video"],[{color:[]},{background:[]}]]}}}},methods:{onEditorChange:function(t){t.editor;var html=t.html;t.text;this.content=html},nameSet:function(t){this.name=t.target.value},newPostSubmit:function(){var t=this;o.a.firestore().collection("blogData").add({name:this.name,info:this.content,postID:this.postID,createDate:this.createDate.slice(0,-3)}).then((function(e){return t.$router.push({name:"database"})})).catch((function(t){return console.log(t)}))},uploadImage:function(t){var e=this;this.loading=!0;var r=o.a.storage().ref(this.postID);if(t.target.files[0]){r.delete().then((function(){})).catch((function(t){}));var n=t.target.files[0],c=r.put(n);c.on("state_changed",(function(t){}),(function(t){console.log(t)}),(function(){c.snapshot.ref.getDownloadURL().then((function(t){e.coverImg=t,e.loading=!1}))}))}}},mounted:function(){this.postID=(new Date).getTime().toString(36)+Date.now().toString().split(".").join("_");var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),time=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();this.createDate=e+" "+time}}),l=r(14),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("h1",{staticClass:"headline"},[t._v("New post")]),t._v(" "),n("div",{staticClass:"coverImg"},[n("button",{staticClass:"button primaryBtn",attrs:{type:"file"},on:{click:function(e){return t.$refs.fileInput.click()}}},[t._v("Cover image")]),t._v(" "),t.loading?n("div",{staticClass:"loading"},[n("img",{attrs:{src:r(229),alt:""}})]):t._e(),t._v(" "),n("img",{attrs:{src:t.coverImg}})]),t._v(" "),n("form",{staticClass:"newPostForm",on:{submit:function(e){return e.preventDefault(),t.newPostSubmit(e)}}},[n("div",{staticClass:"nameInput"},[n("input",{attrs:{type:"text",placeholder:"Headline"},on:{blur:function(e){return t.nameSet(e)}}})]),t._v(" "),n("div",{staticClass:"editorWrap"},[n("div",{directives:[{name:"quill",rawName:"v-quill:myQuillEditor",value:t.editorOption,expression:"editorOption",arg:"myQuillEditor"}],staticClass:"quill-editor",attrs:{content:t.content},on:{change:function(e){return t.onEditorChange(e)}}})]),t._v(" "),n("button",{staticClass:"button primaryBtn",attrs:{type:"submit"}},[t._v("Save")])]),t._v(" "),n("input",{ref:"fileInput",staticClass:"fileUploadInput",attrs:{type:"file"},on:{change:function(e){return t.uploadImage(e)}}})])}),[],!1,null,null,null);e.default=component.exports}}]);