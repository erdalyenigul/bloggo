(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{224:function(t,e,r){"use strict";r(225),r(228)},225:function(t,e,r){"use strict";var n=r(226);function o(t){this.message=t}o.prototype=new Error,o.prototype.name="InvalidTokenError",t.exports=function(t,e){if("string"!=typeof t)throw new o("Invalid token specified");var r=!0===(e=e||{}).header?0:1;try{return JSON.parse(n(t.split(".")[r]))}catch(t){throw new o("Invalid token specified: "+t.message)}},t.exports.InvalidTokenError=o},226:function(t,e,r){var n=r(227);t.exports=function(t){var output=t.replace(/-/g,"+").replace(/_/g,"/");switch(output.length%4){case 0:break;case 2:output+="==";break;case 3:output+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(n(t).replace(/(.)/g,(function(t,p){var code=p.charCodeAt(0).toString(16).toUpperCase();return code.length<2&&(code="0"+code),"%"+code})))}(output)}catch(t){return n(output)}}},227:function(t,e){function r(t){this.message=t}r.prototype=new Error,r.prototype.name="InvalidCharacterError",t.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(input){var t=String(input).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,n,o=0,c=0,output="";n=t.charAt(c++);~n&&(e=o%4?64*e+n:n,o++%4)?output+=String.fromCharCode(255&e>>(-2*o&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return output}},228:function(t,e,r){"use strict";function n(){}t.exports=n,n.maxLength=4096,n.parse=function(t){var e=n.maxLength;if("string"!=typeof t)throw new TypeError("str must be a string");if(t.length>e)throw new RangeError("str is too large (CookieParser.maxLength="+e+")");var r=new n;if(arguments.length>1){var o=arguments[1];if("object"==typeof o&&null!==o&&"function"==typeof o.decode)return r.slowParse(t,o.decode)}return r.parse(t)},n.prototype.decode=function(t){try{return decodeURIComponent(t)}catch(e){return t}},n.prototype.extract=function(t,e,r){return e===r+1?"":t.slice(this.trimForward(t,e),this.trimBackward(t,r)+1)},n.prototype.trimForward=function(t,i){for(var e=t.charCodeAt(i);this.isWhiteSpace(e);)e=t.charCodeAt(++i);return i},n.prototype.trimBackward=function(t,i){for(var e=t.charCodeAt(i);this.isWhiteSpace(e);)e=t.charCodeAt(--i);return i},n.prototype.isWhiteSpace=function(t){return t<=32},n.prototype.parse=function(t){var e={},r=0,n=0,o=0,c=0,d=!1,l=!1,i=0,f=t.length;t:for(;i<f;++i){var h=t.charCodeAt(i);if(h>127)return this.slowParse(t,this.decode);if(61===h){n=i-1;var m=i+1;for(h=t.charCodeAt(m);32===h;)m++,h=t.charCodeAt(m);for(34===h&&(m++,l=!0),o=m;m<f;++m)if(37===(h=t.charCodeAt(m)))d=!0;else if(59===h||44===h){if(l)(c=this.trimBackward(t,m-1)-1)<o&&(o=c);else c=m-1;var v=this.extract(t,r,n),w=this.extract(t,o,c);for(e[v]=d?this.decode(w):w,i=m;m<f;++m)if(32!==t.charCodeAt(m)){i=m-1;break}n=r=i+1,l=!1,d=!1;continue t}if(l)(c=this.trimBackward(t,m-1)-1)<o&&(o=c);else c=m-1;v=this.extract(t,r,n),w=this.extract(t,o,c);e[v]=d?this.decode(w):w,i=m}else 59!==h&&44!==h||(r=i+1)}return e},n.serialize=function(t,e,r){var n=[t+"="+((r=r||{}).encode||encodeURIComponent)(e)];return r.maxAge&&n.push("Max-Age="+r.maxAge),r.domain&&n.push("Domain="+r.domain),r.path&&n.push("Path="+r.path),r.expires&&n.push("Expires="+r.expires.toUTCString()),r.httpOnly&&n.push("HttpOnly"),r.secure&&n.push("Secure"),n.join("; ")},n.prototype.slowParse=function(t,e){var r={};return t.split(/[;,] */).forEach((function(t){var n=t.indexOf("=");if(!(n<0)){var o=t.substr(0,n).trim(),c=t.substr(++n,t.length).trim();if('"'==c[0]&&(c=c.slice(1,-1)),null==r[o])try{r[o]=e(c)}catch(t){r[o]=c}}})),r}},233:function(t,e,r){"use strict";r.r(e);r(43);var n=r(6),o=r(44),c=r.n(o),d=(r(88),r(133),r(224),{data:function(){return{posts:[],admin:!1,modal:!1,postID:"",adminEmail:"",postIndex:"",showData:!1}},created:function(){var t=this;c.a.auth().onAuthStateChanged((function(e){e?(t.admin=!0,t.adminEmail=e.email.substring(0,e.email.lastIndexOf("@"))):t.admin=!1}))},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.req,r=t.redirect,c.a.auth().currentUser||r("/login"),n=[],e.next=5,c.a.firestore().collection("blogData").orderBy("postID","desc").get().then((function(t){t.forEach((function(t){n.push(t.data())}))}));case 5:return e.abrupt("return",{posts:n});case 6:case"end":return e.stop()}}),e)})))()},methods:{deletePost:function(t,e){this.modal=!0,this.postID=t,this.postIndex=e},deleteModalOkay:function(){var t=this;this.modal=!1,c.a.firestore().collection("blogData").where("postID","==",this.postID).get().then((function(e){e.forEach((function(e){e.ref.delete(),t.posts.splice(t.postIndex,1)}))}))},closeModal:function(){this.modal=!1},downloadImg:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t,i=0;case 2:if(!(i<r.posts.length)){e.next=8;break}return e.next=5,c.a.storage().ref(r.posts[i].postID).getDownloadURL().then((function(t){r.posts[i].img=t})).catch((function(t){console.log(t)}));case 5:i++,e.next=2;break;case 8:t.showData=!0;case 9:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.downloadImg()}}),l=r(14),component=Object(l.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[t.modal?r("div",{staticClass:"modalWrap"},[r("div",{staticClass:"modalContent"},[r("div",{staticClass:"modalClose",on:{click:function(e){return t.closeModal()}}},[r("font-awesome-icon",{attrs:{icon:"times-circle"}})],1),t._v(" "),r("div",{staticClass:"headline center"},[t._v("Confirm delete")]),t._v(" "),r("div",{staticClass:"middle"},[r("button",{staticClass:"button primaryBtn",on:{click:function(e){return t.closeModal()}}},[t._v("Cancel")]),t._v(" "),r("button",{staticClass:"button errorBtn",on:{click:function(e){return t.deleteModalOkay()}}},[t._v("Delete")])])])]):t._e(),t._v(" "),r("div",{staticClass:"adminInfo"},[t._v("\n    Welcome,\n    "),r("span",[t._v(t._s(t.adminEmail))])]),t._v(" "),t._l(t.posts,(function(e,n){return t.showData?r("div",{key:e.id,staticClass:"posts"},[r("div",{staticClass:"imgCover"},[r("nuxt-link",{attrs:{to:{name:"posts-postID",params:{postID:e.postID}}}},[r("img",{attrs:{src:e.img,alt:e.name}})])],1),t._v(" "),r("div",{staticClass:"Infos infoList"},[r("nuxt-link",{staticClass:"postName",attrs:{to:{name:"posts-postID",params:{postID:e.postID}}}},[t._v(t._s(e.name.split(" ").slice(0,15).join(" ")))]),t._v(" "),r("div",{staticClass:"postDate"},[t._v("Date: "+t._s(e.createDate.slice(0,-3)))]),t._v(" "),r("div",{staticClass:"postInfo",domProps:{innerHTML:t._s(e.info.split(" ").slice(0,16).join(" ")+" ...")}}),t._v(" "),r("nuxt-link",{staticClass:"button primaryBtn",attrs:{to:{name:"posts-edit-editPost",params:{editPost:e.postID}}}},[t._v("Edit")]),t._v(" "),t.admin?r("div",{staticClass:"button errorBtn",on:{click:function(r){return t.deletePost(e.postID,n)}}},[t._v("Delete")]):t._e()],1)]):t._e()}))],2)}),[],!1,null,null,null);e.default=component.exports}}]);