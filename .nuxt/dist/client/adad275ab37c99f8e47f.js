(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{231:function(t,e,n){"use strict";n.r(e);n(43);var o=n(6),r=n(44),c=n.n(r),l=(n(133),{data:function(){return{admin:!1,modal:!1,img:"",post:[]}},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.route,o=[],e.next=4,c.a.firestore().collection("blogData").where("postID","==",n.params.postID).get().then((function(t){t.forEach((function(t){o=t.data()}))}));case 4:return e.abrupt("return",{post:o});case 5:case"end":return e.stop()}}),e)})))()},methods:{deletePost:function(){this.modal=!0},deleteModalOkay:function(){var t=this;this.modal=!1,c.a.storage().ref(this.postID).delete().then((function(){})).catch((function(t){})),c.a.firestore().collection("blogData").where("postID","==",this.postID).get().then((function(e){e.forEach((function(e){e.ref.delete(),t.$router.push({name:"database"})}))}))},closeModal:function(){this.modal=!1},downloadImg:function(){var t=this;c.a.storage().ref(this.$route.params.postID).getDownloadURL().then((function(e){t.img=e})).catch((function(t){console.log(t.message)})),this.showData=!0},userAuth:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.auth().onAuthStateChanged((function(e){t.admin=!!e}));case 2:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.userAuth(),this.downloadImg()}}),d=n(14),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[t.modal?n("div",{staticClass:"modalWrap"},[n("div",{staticClass:"modalContent"},[n("div",{staticClass:"modalClose",on:{click:function(e){return t.closeModal()}}},[n("font-awesome-icon",{attrs:{icon:"times-circle"}})],1),t._v(" "),n("div",{staticClass:"headline center"},[t._v("Confirm delete")]),t._v(" "),n("div",{staticClass:"middle"},[n("button",{staticClass:"button primaryBtn",on:{click:function(e){return t.closeModal()}}},[t._v("Cancel")]),t._v(" "),n("button",{staticClass:"button errorBtn",on:{click:function(e){return t.deleteModalOkay()}}},[t._v("Delete")])])])]):t._e(),t._v(" "),t.admin?n("div",{staticClass:"adminLine"},[n("nuxt-link",{staticClass:"button primaryBtn",attrs:{to:{name:"posts-edit-editPost",params:{editPost:t.$route.params.postID}}}},[t._v("Edit")]),t._v(" "),n("button",{staticClass:"button errorBtn",on:{click:t.deletePost}},[t._v("Delete")])],1):t._e(),t._v(" "),n("div",{staticClass:"posts"},[n("h1",{staticClass:"postName pnDetail"},[t._v(t._s(t.post.name))]),t._v(" "),n("div",{staticClass:"postDate"},[t._v("Olu≈üturulma tarihi: "+t._s(t.post.createDate))]),t._v(" "),n("img",{staticClass:"detailImgCover",attrs:{src:t.img,alt:t.post.name}}),t._v(" "),n("h2",{staticClass:"postInfo",domProps:{innerHTML:t._s(t.post.info)}})])])}),[],!1,null,null,null);e.default=component.exports}}]);